cmake_minimum_required(VERSION 2.6)
PROJECT(demo)

AUX_SOURCE_DIRECTORY(. SOURCE_FILES)
FILE(GLOB HEADER_FILES  *.h)
SOURCE_GROUP("Header Files" FILES ${HEADER_FILES})
SOURCE_GROUP("Source Files" FILES ${SOURCE_FILES})

FIND_PACKAGE(OpenCV REQUIRED) 
ADD_EXECUTABLE(demo ${SOURCE_FILES} ${HEADER_FILES})
TARGET_LINK_LIBRARIES(demo  ${OpenCV_LIBS})